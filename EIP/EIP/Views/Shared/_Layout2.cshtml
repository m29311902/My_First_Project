<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title</title>
    @*引用Fontawesome*@
    <link href="~/Content/fontawesome-all.css" rel="stylesheet" />
    @*引用SweetAlert*@
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js" integrity="sha512-AA1Bzp5Q0K1KanKKmvN/4d3IRKVlv9PYgwFPvm32nPO6QS8yH1HO7LbgB1pgiOxPtfeg5zEn2ba64MUcqJx6CA==" crossorigin="anonymous"></script>
    @*引用城市選擇器*@
    <script src="~/Scripts/src/tw-city-selector.min.js"></script>
    @*頁碼*@
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/paginationjs/2.1.5/pagination.css" integrity="sha512-QmxybGIvkSI8+CGxkt5JAcGOKIzHDqBMs/hdemwisj4EeGLMXxCm9h8YgoCwIvndnuN1NdZxT4pdsesLXSaKaA==" crossorigin="anonymous" />   
    @*semantic*@
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")

    <style>
        body {
            padding: 0;
            background-color: #E0E0E0;
            font-weight: bolder;
        }
         .AlertBell {
            margin-left: -200px;
        }
        select {
        max-width:100%;
        }
        /*.fade {
                opacity: 1;
            }

            .askforleave {
                border: 2px solid black;
                border-radius: 20px;
                margin: auto;
                width: 800px;
            }

            .btnSend {
                width: 280px;
                font-size: 20px;
                font-weight: bold;
            }

            .pointer {
                cursor: pointer;*/ /*如果想要用手指效果就+這個class*/
        /*}*/
        /*以下是SweetAlert2的套件樣式*/
        .searchbox {
            outline: none;
        }

            .modalbody {
                background-color: #F0F0F0;
            }


            .space {
                justify-content: space-evenly;
            }

            #nav-Add {
                background-color: white;
                /*  box-shadow:0px 5px 15px ;*/
            }

            .TotalEMP {
                border-radius: 5px 5px 0 0;
                margin-bottom: -1px;
            }

            .TotalWrap {
                border-radius: 0 0 10px 10px;
            }
            /*Yuan*/
            .head {
                margin-top: 50px;
                border: 1px solid black;
                border-radius: 10px;
                padding: 25px;
                background-color: white;
                box-shadow: 0 1px 7px;
            }

            textarea {
                resize: none;
            }

            input, textarea {
                max-width: 100%;
            }


            .table-hover tbody tr:hover td, .table-hover tbody tr:hover th {
                background-color: lightyellow;
            }

            .table {
                background-color: white;
                padding: 5px;
                box-shadow: 0 1px 7px;
            }

            th {
                /*        border: 1px solid white;*/
                text-align: center;
                background-color: #444444;
                color: white;
                font-size: 1.2em;
            }

            td {
                line-height: 50px;
                color: black;
            }

            th, td {
                text-align: center;
                padding: 5px;
            }

            .h2共用 {
                text-align: center;
                font-weight: bold;
                margin-top: 25px;
                padding-bottom: 20px;
                border-bottom: 1px solid silver;
            }
            .加班 {
                background-color: transparent;
                border: none;
            }

            .加班1 {
                border-top: none;
            }
            /*偶數*/
            /*tr:nth-child(even) {
            background-color: aliceblue;
        }*/
            /*奇數*/
            /*tr:nth-child(odd) {
            background-color: azure;
        }*/
            /*詳細按鈕css*/
            .button {
                border-radius: 4px;
                /*        border: none;*/
                /*        color: #0066FF;*/
                color: black;
                font-weight: bold;
                text-align: center;
                font-size: 1.2em;
                padding: 10px;
                width: 100px;
                transition: all 0.5s;
                cursor: pointer;
                margin: 3px;
            }

                .button span {
                    cursor: pointer;
                    display: inline-block;
                    position: relative;
                    transition: 0.15s;
                }

                    .button span:after {
                        content: '\00bb';
                        position: absolute;
                        opacity: 0;
                        top: 0;
                        right: -20px;
                        transition: 0.001s;
                    }

                .button:hover span {
                    padding-right: 25px;
                }

                    .button:hover span:after {
                        opacity: 1;
                        right: 0;
                    }

            .規定 {
                border-radius: 10px;
            }

            .加班法規 {
                text-align: center;
                font-size: 1.6em;
            }

            .加班法規內文 {
                line-height: 150%;
                text-align: justify;
                text-justify: inter-ideograph;
            }
        #備註{

        }
        .TitleImg {
            width: 200px;
            height: 60px;
        }
        /*互動式視窗置中*/
        #UserProfile {
            height: auto;
            top: auto;
            left: auto;
            bottom: auto;
            right: auto;
            width:400px;
        }
        /*互動式視窗置中*/
        #searchinfo {
            height: auto;
            top: auto;
            left: auto;
            bottom: auto;
            right: auto;
            width: 400px;
        }
        .formlbl {
            font-size: 16px !important;
        }
        .nohover {
        pointer-events:none;
        }
        .AlerBellOut {
            position:fixed;
            top:90%;
            right:3%;
            background-color: #FCFCFC;
            border:1px solid white;
            border-radius:50% 50% 50% 50%;
            padding:1% 1%;
            z-index:999;
        }
        .centermodal {
            height: auto;
            top: auto;
            left: auto;
            bottom: auto;
            right: auto;      
        }
        </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="@Url.Action("Index","Home")">
            <img class="TitleImg" src="~/images/Logo.png" />
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarText">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        個人功能
                    </a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="@Url.Action("BulletinBoard","BulletinBoard")">行事曆</a>
                        <a class="dropdown-item" href="#">表單</a>
                        <a class="dropdown-item" href="@Url.Action("AskFor","DDDDD")">請假申請</a>
                        <a class="dropdown-item" href="@Url.Action("AskforList","DDDDD")">請假總表</a>
                        <a class="dropdown-item" data-toggle="modal" data-target="#overtimemodel" href="#">加班申請</a>
                        <a class="dropdown-item" href="@Url.Action("OverTimeList","DDDDD")">加班總表</a>
                        <a class="dropdown-item" href="@Url.Action("BusinessTrip","DDDDD")">出差申請</a>
                        <a class="dropdown-item" href="@Url.Action("BusinessTripList","DDDDD")">出差總表</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">Something else here</a>
                    </div>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        專案管理
                    </a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="@Url.Action("EmpIndex","Project")">新增專案</a>
                        <a class="dropdown-item" href="@Url.Action("pjView","theProject")">專案進度</a>
                        <a class="dropdown-item" href="#">退補件</a>    @*主管駁回的案件*@
                    </div>
                <li class="nav-item dropdown boss">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        主管
                    </a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="#">專案審查</a>   @*可以審核又可以查詢*@
                        <a class="dropdown-item" href="#"></a>
                    </div>
                <li class="nav-item dropdown hr">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        人事
                    </a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="@Url.Action("HRShow","Home")">員工資訊</a>
                        @*改名 薪資調整 職務異動 留職停薪 等...*@
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">Something else here</a>
                    </div>

            </ul>
            @**@
            <div class="w-25">
                <div class="ui buttons w-100">
                    <button class="ui labeled icon button nohover" title="權限">
                        <i class="left user icon"></i>
                        <p class="CookieAuth"></p>
                    </button>
                    <button class="ui labeled icon button NameClick" title="員工姓名">
                        <i class="address card icon"></i>
                        <p class="CookieName"></p>
                    </button>
                    <button class="ui right labeled icon button Logout" title="登出">
                        登出
                        <i class="icon sign-out"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>
    @*<div class="  AlerBellOut shadow">
            <i class="big teal bell outline icon"id="dropdownMenuButton" data-toggle="dropdown"></i>
            <div class="dropdown-menu AlertBell"></div>
        </div>*@

<div class="AlerBellOut">
    <div class="ui dropdown">
        <input type="hidden" name="gender">
        <i class="big teal bell outline icon"></i>
        <div class="default text text-success">通知訊息</div>
        <div class="menu AlertBell"></div>
    </div>
</div>




    <div class="container body-content" style="max-width:1600px;">
        @RenderBody()
        @*======================================Yuanu加班進入Model======================================*@

        <!-- Modal -->
        <div class="modal fade" id="overtimemodel" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-dialog-scrollable modal-xl" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title 加班法規" id="exampleModalScrollableTitle">相關規定</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        @*Start*@
                        <div class="規定 ml-3">
                            <p class="px-3 加班法規內文">
                                第 30 條<br />
                                勞工正常工作時間，每日不得超過八小時，每週不得超過四十小時。<br />
                                前項正常工作時間，雇主經工會同意，如事業單位無工會者，經勞資會議
                                同意後，得將其二週內二日之正常工作時數，分配於其他工作日。其分配
                                於其他工作日之時數，每日不得超過二小時。但每週工作總時數不得超過
                                四十八小時。<br />
                                第一項正常工作時間，雇主經工會同意，如事業單位無工會者，經勞資會
                                議同意後，得將八週內之正常工作時數加以分配。但每日正常工作時間不
                                得超過八小時，每週工作總時數不得超過四十八小時。<br />
                                前二項規定，僅適用於經中央主管機關指定之行業。<br />
                                雇主應置備勞工出勤紀錄，並保存五年。<br />
                                前項出勤紀錄，應逐日記載勞工出勤情形至分鐘為止。勞工向雇主申請其
                                出勤紀錄副本或影本時，雇主不得拒絕。<br />
                                雇主不得以第一項正常工作時間之修正，作為減少勞工工資之事由。<br />
                                第一項至第三項及第三十條之一之正常工作時間，雇主得視勞工照顧家庭
                                成員需要，允許勞工於不變更每日正常工作時數下，在一小時範圍內，彈
                                性調整工作開始及終止之時間。<br />
                                第 30-1 條<br />
                                中央主管機關指定之行業，雇主經工會同意，如事業單位無工會者，經勞
                                資會議同意後，其工作時間得依下列原則變更：<br />
                                一、四週內正常工作時數分配於其他工作日之時數，每日不得超過二小時
                                ，不受前條第二項至第四項規定之限制。<br />
                                二、當日正常工作時間達十小時者，其延長之工作時間不得超過二小時。<br />
                                三、女性勞工，除妊娠或哺乳期間者外，於夜間工作，不受第四十九條第
                                一項之限制。但雇主應提供必要之安全衛生設施。<br />
                                依中華民國八十五年十二月二十七日修正施行前第三條規定適用本法之行
                                業，除第一項第一款之農、林、漁、牧業外，均不適用前項規定。<br />
                                第 31 條<br />
                                在坑道或隧道內工作之勞工，以入坑口時起至出坑口時止為工作時間。<br />
                                第 32 條<br />
                                雇主有使勞工在正常工作時間以外工作之必要者，雇主經工會同意，如事
                                業單位無工會者，經勞資會議同意後，得將工作時間延長之。<br />
                                前項雇主延長勞工之工作時間連同正常工作時間，一日不得超過十二小時
                                ；延長之工作時間，一個月不得超過四十六小時，但雇主經工會同意，如
                                事業單位無工會者，經勞資會議同意後，延長之工作時間，一個月不得超
                                過五十四小時，每三個月不得超過一百三十八小時。<br />
                                雇主僱用勞工人數在三十人以上，依前項但書規定延長勞工工作時間者，
                                應報當地主管機關備查。<br />
                                因天災、事變或突發事件，雇主有使勞工在正常工作時間以外工作之必要
                                者，得將工作時間延長之。但應於延長開始後二十四小時內通知工會；無
                                工會組織者，應報當地主管機關備查。延長之工作時間，雇主應於事後補
                                給勞工以適當之休息。<br />
                                在坑內工作之勞工，其工作時間不得延長。但以監視為主之工作，或有前
                                項所定之情形者，不在此限。<br />
                                第 32-1 條<br />
                                雇主依第三十二條第一項及第二項規定使勞工延長工作時間，或使勞工於
                                第三十六條所定休息日工作後，依勞工意願選擇補休並經雇主同意者，應
                                依勞工工作之時數計算補休時數。<br />
                                前項之補休，其補休期限由勞雇雙方協商；補休期限屆期或契約終止未補
                                休之時數，應依延長工作時間或休息日工作當日之工資計算標準發給工資
                                ；未發給工資者，依違反第二十四條規定論處。<br />
                                第 33 條<br />
                                第三條所列事業，除製造業及礦業外，因公眾之生活便利或其他特殊原因
                                ，有調整第三十條、第三十二條所定之正常工作時間及延長工作時間之必
                                要者，得由當地主管機關會商目的事業主管機關及工會，就必要之限度內
                                以命令調整之。<br />
                                第 34 條<br />
                                勞工工作採輪班制者，其工作班次，每週更換一次。但經勞工同意者不在
                                此限。<br />
                                依前項更換班次時，至少應有連續十一小時之休息時間。但因工作特性或
                                特殊原因，經中央目的事業主管機關商請中央主管機關公告者，得變更休
                                息時間不少於連續八小時。<br />
                                雇主依前項但書規定變更休息時間者，應經工會同意，如事業單位無工會
                                者，經勞資會議同意後，始得為之。雇主僱用勞工人數在三十人以上者，
                                應報當地主管機關備查。<br />
                                第 35 條<br />
                                勞工繼續工作四小時，至少應有三十分鐘之休息。但實行輪班制或其工作
                                有連續性或緊急性者，雇主得在工作時間內，另行調配其休息時間。<br />
                                第 36 條<br />
                                勞工每七日中應有二日之休息，其中一日為例假，一日為休息日。<br />
                                雇主有下列情形之一，不受前項規定之限制：<br />
                                一、依第三十條第二項規定變更正常工作時間者，勞工每七日中至少應有
                                一日之例假，每二週內之例假及休息日至少應有四日。<br />
                                二、依第三十條第三項規定變更正常工作時間者，勞工每七日中至少應有
                                一日之例假，每八週內之例假及休息日至少應有十六日。<br />
                                三、依第三十條之一規定變更正常工作時間者，勞工每二週內至少應有二
                                日之例假，每四週內之例假及休息日至少應有八日。<br />
                                雇主使勞工於休息日工作之時間，計入第三十二條第二項所定延長工作時
                                間總數。但因天災、事變或突發事件，雇主有使勞工於休息日工作之必要
                                者，其工作時數不受第三十二條第二項規定之限制。<br />
                                經中央目的事業主管機關同意，且經中央主管機關指定之行業，雇主得將
                                第一項、第二項第一款及第二款所定之例假，於每七日之週期內調整之。
                                前項所定例假之調整，應經工會同意，如事業單位無工會者，經勞資會議
                                同意後，始得為之。雇主僱用勞工人數在三十人以上者，應報當地主管機
                                關備查。<br />
                                第 37 條<br />
                                內政部所定應放假之紀念日、節日、勞動節及其他中央主管機關指定應放
                                假日，均應休假。<br />
                                中華民國一百零五年十二月六日修正之前項規定，自一百零六年一月一日
                                施行。<br />
                                第 38 條<br />
                                勞工在同一雇主或事業單位，繼續工作滿一定期間者，應依下列規定給予
                                特別休假：<br />
                                一、六個月以上一年未滿者，三日。<br />
                                二、一年以上二年未滿者，七日。<br />
                                三、二年以上三年未滿者，十日。<br />
                                四、三年以上五年未滿者，每年十四日。<br />
                                五、五年以上十年未滿者，每年十五日。<br />
                                六、十年以上者，每一年加給一日，加至三十日為止。<br />
                                前項之特別休假期日，由勞工排定之。但雇主基於企業經營上之急迫需求
                                或勞工因個人因素，得與他方協商調整。<br />
                                雇主應於勞工符合第一項所定之特別休假條件時，告知勞工依前二項規定
                                排定特別休假。<br />
                                勞工之特別休假，因年度終結或契約終止而未休之日數，雇主應發給工資
                                。但年度終結未休之日數，經勞雇雙方協商遞延至次一年度實施者，於次
                                一年度終結或契約終止仍未休之日數，雇主應發給工資。<br />
                                雇主應將勞工每年特別休假之期日及未休之日數所發給之工資數額，記載
                                於第二十三條所定之勞工工資清冊，並每年定期將其內容以書面通知勞工
                                。<br />
                                勞工依本條主張權利時，雇主如認為其權利不存在，應負舉證責任。<br />
                                第 39 條<br />
                                第三十六條所定之例假、休息日、第三十七條所定之休假及第三十八條所
                                定之特別休假，工資應由雇主照給。雇主經徵得勞工同意於休假日工作者
                                ，工資應加倍發給。因季節性關係有趕工必要，經勞工或工會同意照常工
                                作者，亦同。<br />
                                第 40 條<br />
                                因天災、事變或突發事件，雇主認有繼續工作之必要時，得停止第三十六
                                條至第三十八條所定勞工之假期。但停止假期之工資，應加倍發給，並應
                                於事後補假休息。<br />
                                前項停止勞工假期，應於事後二十四小時內，詳述理由，報請當地主管機
                                關核備。<br />
                                第 41 條<br />
                                公用事業之勞工，當地主管機關認有必要時，得停止第三十八條所定之特
                                別休假。假期內之工資應由雇主加倍發給。<br />
                                第 42 條<br />
                                勞工因健康或其他正當理由，不能接受正常工作時間以外之工作者，雇主
                                不得強制其工作。<br />
                                第 43 條<br />
                                勞工因婚、喪、疾病或其他正當事由得請假；請假應給之假期及事假以外
                                期間內工資給付之最低標準，由中央主管機關定之。<br />
                            </p>

                        </div> @*End*@
                    </div>
                    <div class="modal-footer d-flex justify-content-center">
                        <button type="button" class="btn btn-primary" onclick="ChangePage()">我同意</button>
                        <button type="button" class="btn btn-secondary ClearModal" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="ui small modal" id="UserProfile">
            <i class="close icon"></i>
            <div class="header">
                員工資訊
            </div>
            <div class="content">
                <form class="ui form addprofile "></form>
            </div>
            <div class="actions d-flex justify-content-between">
                <div>
                    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#Editpw">修改密碼</button>
                </div>
                <div>
                    <button type="button" class="btn btn-secondary cancel">Close</button>
                </div>
            </div>
        </div>

        @*修改密碼*@
        <div class="modal fade" id="Editpw" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title " id="exampleModalLabel">員工資訊</h5>
                        <button type="button" class="close" data-dismiss="modal">
                        </button>
                    </div>
                    <div class="modal-body modalbody">
                        <div class="d-flex my-4">
                            <div>
                                <label class="">輸入欲修改密碼：</label>
                            </div>
                            <div>
                                <input type="password" class=" editpw1 ml-5" />
                            </div>
                        </div>
                        <div class="d-flex mb-4">
                            <div>
                                <label class=" mr-2">重複輸入欲修改密碼：</label>
                            </div>
                            <div>
                                <input type="password" class=" editpw2 ml-2" />
                            </div>
                        </div>
                        <div class="modal-footer">
                            <div>
                                <button type="button" class="btn btn-primary editpwsave">確認修改</button>
                            </div>
                            <div>
                                <button type="button" class="btn btn-secondary ClearModal editpwcancel" data-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <hr />
        <footer>
            <p>&copy; @DateTime.Now.Year - 我的 ASP.NET 應用程式</p>
        </footer>
    </div>

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    <script src="~/Scripts/jquery.signalR-2.4.1.js"></script>
    <script src="~/signalr/hubs"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paginationjs/2.1.5/pagination.min.js" integrity="sha512-1zzZ0ynR2KXnFskJ1C2s+7TIEewmkB2y+5o/+ahF7mwNj9n3PnzARpqalvtjSbUETwx6yuxP5AJXZCpnjEJkQw==" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js"></script>
    @RenderSection("script", required: false)
    <script>
        $('.ui.dropdown').dropdown();
        if (document.cookie != '') {
            $('.CookieAuth').html(decodeURI(document.cookie.split('Auth=')[1].split('&')[0]));
            $('.CookieName').html(decodeURI(document.cookie.split('Name=')[1].split('&')[0]));
        } else {
            window.location.href = "/Home/Login";
        }

        $(".Logout").click(function () {
            swal({
                title: '登出',
                text: '確定要現在登出嗎？',
                icon: 'warning',
                buttons: true,
                dangerMode: true,
            }).then((isConfirm) => {
                if (isConfirm) {
                    swal("登出！", "登出成功!...", 'success');
                    setTimeout(function () {
                        $.ajax({
                            url: "/Home/LogOut",
                            method: "get",
                            success: function (data) {
                                window.location.href = "/Home/Login";
                            }
                        })
                    }, 1000);
                }
            })
        });


        $(".NameClick").click(function () {
            $("#UserProfile").modal('show');
            $.ajax({
                url: "/Home/MyProfile",
                method: "Get",
                success: function (data) {
                    $(".addprofile").html(`
                                                                                                  <div>
                                        <input type="hidden" name="EmployeePW" value="${data.EmployeePW}" />
                                        <input type="hidden" name="EmployeeID" value="${data.EmployeeID}" />
                                        <input type="hidden" name="信箱" value="${data.信箱}" />
                                    </div>
                                    <div class="field">
                                        <div class="two fields">
                                            <div class="eight wide field">
                                                <label class="formlbl">中文姓名：</label>
                                                <input name="中文姓名" type="text" class="w-100" value="${data.中文姓名}" disabled />
                                            </div>
                                            <div class="eight wide field">
                                                <label class="formlbl">英文姓名：</label>
                                                <input name="英文姓名" type="text" class="w-100" value="${data.英文姓名}" disabled />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field">
                                        <div class="two fields">
                                            <div class="five wide field">
                                                <label class="formlbl">性別：</label>
                                                <input type="text" name="性別" value="${data.性別}" hidden />
                                                <select disabled class="ml-2 mt-2">
                                                    <option value="性別" selected>${data.性別}</option>
                                                </select>
                                            </div>
                                            <div class="thirteen wide field">
                                                <label class="formlbl">出生年月日：</label>
                                                <input type="text" name="出生年月日" class="w-100" value="${data.出生年月日}" hidden />
                                                <input type="date" class="w-100" value="${data.出生年月日}" disabled />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field">
                                        <label class="formlbl">居住地:</label>
                                        <input name="居住地" value="${data.居住地}" disabled />
                                    </div>

                                    <div class="field">
                                        <div class="two fields">
                                            <div class="twelve wide field">
                                                <label class="formlbl">電話：</label>
                                                <input type="text" name="電話" class="w-100" value="${data.電話}" disabled />
                                            </div>
                                            <div class="six wide field">
                                                <label class="formlbl">婚姻狀況：</label>
                                                <select name="婚姻狀況" disabled>
                                                    <option hidden>${data.婚姻狀況}</option>
                                                    <option value="已婚">已婚</option>
                                                    <option value="未婚">未婚</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field">
                                        <div class="two fields">
                                            <div class="nine wide field">
                                                <label class="formlbl">部門：</label>
                                                <select name="部門" disabled>
                                                    <option hidden>${data.部門}</option>
                                                    <option value="財部部">財部部</option>
                                                    <option value="總務部">總務部</option>
                                                    <option value="人事部">人事部</option>
                                                    <option value="業務部">業務部</option>
                                                </select>
                                            </div>
                                            <div class="nine wide field">
                                                <label class="formlbl">職稱：</label>
                                                <select name="職稱" disabled>
                                                    <option hidden>${data.職稱}</option>
                                                    <option value="主管">主管</option>
                                                    <option value="員工">員工</option>
                                                    <option value="人事">人事</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field">
                                        <div class="two fields">
                                            <div class="nine wide field">
                                                <label class="formlbl">受雇日期：</label>
                                                <input type="text" name="受雇日期" class="w-100" value="${data.受雇日期}" hidden />
                                                <input type="text" class="w-100" value="${data.受雇日期}" disabled />
                                            </div>
                                            <div class="nine wide field">
                                                <label class="formlbl">在職狀態：</label>
                                                <select name="狀態" disabled>
                                                    <option hidden>${data.狀態}</option>
                                                    <option value="在職">在職</option>
                                                    <option value="離職">離職</option>
                                                    <option value="未到職">未到職</option>
                                                    <option value="留職停薪">留職停薪</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="field">
                                        <div class="two fields">
                                            <div class="field">
                                                <label class="formlbl">薪資：</label>
                                                <input name="薪資" class="Regular shadow" value="${data.薪資}" disabled />
                                            </div>
                                            <div class="field">
                                                <label class="formlbl">特休：</label>
                                                <input name="特休" class="Regular shadow" value="${data.特休}" disabled />
                                            </div>
                                        </div>
                                    </div>`);
                }
            });


        });


        if (decodeURI(document.cookie.split('Auth=')[1].split('&')[0]) != '主管') {
            $(".boss").attr('hidden', true);
        }
        if (decodeURI(document.cookie.split('Auth=')[1].split('&')[0]) != '人事') {
            $(".hr").attr('hidden', true);
        }

        $(".editpwcancel").click(function () {
            $(".editpw1").val('');
            $(".editpw2").val('');
        });


        $(".editpwsave").click(function () {
            var newpwd = $(".editpw2").val();
            var reg = /^(?=.*[a-zA-Z])(?=.*\d)(?=.*[~!#$%^&*()_+`\-={}\[\]:";'<>?,.\/]).{4,16}$/;
            var flag = reg.test(newpwd);
            if ($(".editpw1").val() != $(".editpw2").val()) {
                $(".editpw1").val('');
                $(".editpw2").val('');
                swal("驗證失敗", "密碼驗證輸入不相符...", "error");
            }
            else if ($(".editpw1").val() == '' || $(".editpw2").val() == '') {
                $(".editpw1").val('');
                $(".editpw2").val('');
                swal("驗證失敗", "欄位不可為空", "error");
            } else if (flag == false) {
                $(".editpw1").val('');
                $(".editpw2").val('');
                swal("驗證失敗", "新密碼必須由 4-16位字母、數字、特殊符號線組成...", "error");
                return false;
            } else {
                $.ajax({
                    url: "/Home/EditPW",
                    data: { 'pw': $(".editpw2").val() },
                    method: "Get",
                    success: function () {
                        swal("成功", "修改密碼成功...", "success");
                        $(".editpw1").val('');
                        $(".editpw2").val('');
                        $("#UserProfile").modal('hide');
                        $("#Editpw").modal('hide');
                    }
                })
            }
        });

        var baid = 0;
        var beid = 0;
        //設定一個 佈告欄新增id 讓他自動++ 判定 大於多少 刪除 上面的 div
        //設定一個佈告欄修改id 讓他自動++ 判定 大於多少 刪除 上面的 div 讓他和編輯的div加總維持在一定的數量

        const bell = $.connection.bell;   //呼叫hub
        bell.client.message = function (name, message) {
            $(".AlertBell").append(` <div class="ui label item"><i class="bullhorn icon"></i><a class="dropdown-item text-success font-weight-bold" b-aid="${baid++}" href="/BulletinBoard/BulletinBoard">您的佈告欄有新的通知!</a></div>`);
        }
        bell.client.edit = function (name) {
            $(".AlertBell").append(`<div class="ui label item"><i class="bullhorn icon"></i><a class="dropdown-item text-warning font-weight-bold"  b-eid="${beid++}"href="/BulletinBoard/BulletinBoard">您的佈告欄有新的通知!</a></div>`);
        }
        bell.client.delete = function (message) {
            $(".AlertBell").append(`<div class="ui label item"><i class="bullhorn icon"></i><a class="dropdown-item text-danger font-weight-bold" href="/BulletinBoard/BulletinBoard">您的佈告欄有新的異動！${message}已被刪除！</a></div>`);
        }

        function ChangePage() {
            $('#overtimemodel').modal('show');
            window.location.href = '/DDDDD/OverTime';

        }
    </script>
</body>
</html>
